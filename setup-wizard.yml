version: "2"
fields:
  - title: Config mode
    id: config_mode
    description: >-
      You must choose a config method. Most users should choose
      "normal" mode, but more advanced users will be able to customize the
      installation of Besu and its environment variables.
    target:
      type: environment
      name: CONFIG_MODE
      service: goerli-besu
    enum:
      - "normal"
      - "advanced"
  - title: Storage Format
    id: storage_format
    description: >-
      Besu can use one of two storage formats, Forest of Tries or Bonsai Tries. 


      You can read about the differences [here](https://besu.hyperledger.org/en/stable/Concepts/Data-Storage-Formats). 


      Default storage format is BONSAI.
    target:
      type: environment
      name: STORAGE_FORMAT
      service: goerli-besu
    enum:
      - BONSAI
      - FOREST
    required: true
    if: { "config_mode": { "enum": ["advanced"] } }
  - title: Sync Mode
    id: sync_mode
    description: >-
      Besu can use one of four sync modes, FULL (slow, archive node), FAST (fast, full node), X_SNAP (Faster than FAST snap sync, full node) or the latest X_CHECKPOINT (fastest, latest, and works with BONSAI). 


      You can read about the differences [here](https://besu.hyperledger.org/en/stable/Reference/CLI/CLI-Syntax/#sync-mode). 


      Default Sync Mode is X_CHECKPOINT.
    target:
      type: environment
      name: SYNC_MODE
      service: goerli-besu
    enum:
      - X_CHECKPOINT
      - X_SNAP
      - FAST
      - FULL
    required: true
    if: { "config_mode": { "enum": ["advanced"] } }
  - title: High Spec Mode
    id: high_spec_mode
    description: >-
      Newer CPUs can hande the RocksDB database better. If you have a newer CPU, you can enable this option to improve performance.
    target:
      type: environment
      name: HIGH_SPEC_MODE
      service: goerli-besu
    enum:
      - "false"
      - "true"
    required: true
    if: { "config_mode": { "enum": ["advanced"] } }
  - title: Max HTTP RPC connections
    id: max_rpc_connections_http
    description: >-
      To prevent flooding of the node, there is a sensible max connections limit. You can alter this variable here.
    target:
      type: environment
      name: MAX_HTTP_CONNECTIONS
      service: goerli-besu
    if: { "config_mode": { "enum": ["advanced"] } }
